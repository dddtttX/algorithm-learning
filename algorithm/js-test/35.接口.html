<!-- 
    请补全JavaScript代码，完成函数的接口功能。要求如下：
1. 函数接收两种类型的参数，分别为"get?"和"update?name=xxx&to=yyy"，"name"、"to"为参数，
    "xxx"、"yyy"分别为参数对应的值。
2. 当参数为"get?"时，返回data数据
3. 当参数为"update?name=xxx&to=yyy"时，将data中所有"name"为"xxx"的项，更改为"name"值为"yyy"
 -->


<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8>
</head>

<body>

    <script type="text/javascript">
        let data = [
            { name: 'nowcoder1' },
            { name: 'nowcoder2' }
        ]

        const _api = string => {
            // 补全代码
            if (string === "get?") {
                return data
            } else {
                // 处理传入参数
                let arr = []
                string.split("?")[1].split("&").forEach(element => {
                    let value = element.split("=")[1]
                    arr.push(value)
                });
                dataArr = data.map((v,i) => {
                    if (v.name == arr[0]) {
                        console.log("出现一样的，下标为"+ i);
                        v.name = arr[1]
                    }
                    return v
                })
                return dataArr
            }
        }
        console.log(_api("get?"));
        console.log(_api("update?name=nowcoder1&to=nowcoder3"));
        

    </script>
</body>

</html>