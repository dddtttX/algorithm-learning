<!-- 
    描述

根据包名，在指定空间中创建对象
输入描述：
namespace({a: {test: 1, b: 2}}, 'a.b.c.d')
输出描述：
{a: {test: 1, b: {c: {d: {}}}}}

 -->


<script>
    function namespace(oNamespace, sPackage) {
        var arr = sPackage.split('.'); // arr <==> [a,b,c,d]
        var res = oNamespace;	// 保留对原始对象的引用

        for (var i = 0, len = arr.length; i < len; i++) {
            if (arr[i] in oNamespace) {	// 空间名在对象中
                if (typeof oNamespace[arr[i]] !== "object") {	// 为原始值	
                    oNamespace[arr[i]] = {};    // 将此属性设为空对象			
                }
            } else {	// 空间名不在对象中，建立此空间名属性，赋值为空
                oNamespace[arr[i]] = {};
            }
            oNamespace = oNamespace[arr[i]];	// 将指针指向下一个空间名属性。
        }
        return res;
    }
</script>


<script>
    function namespace(oNamespace, sPackage) {
        var arr = sPackage.split(".")
        var res = oNamespace

        for (let i = 0; i < arr.length; i++) {
            // 判断这个空间名在不在对象中
            if (arr[i] in oNamespace) {
                // 判断是不是对象
                if (typeof oNamespace[arr[i] !== "object"]) {
                    oNamespace[arr[i]] = {}
                }
            } else {
                // 这个空间名不在对象中,建立这个空间名属性，赋值为空
                oNamespace[arr[i]] = {}
            }
            oNamespace = oNamespace[arr[i]]
        }
        return res
    }
</script>